(this["webpackJsonpphoto-tagging-app"]=this["webpackJsonpphoto-tagging-app"]||[]).push([[0],{53:function(e,n,t){},54:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var r,c,i,a,o,s,d,b,u,l,j,f,O,p,h,x,g,m,v,w,y,k,S,z,C,E,T,F,I,N,B,R,D,L,M,P,H,Y,A,G,X,J,U,q,K,V,W,_=t(7),Q=t.n(_),Z=t(39),$=t.n(Z),ee=(t(52),t(53),t(54),t(13)),ne=t(11),te=t(63),re=t(6),ce=ne.b.footer(r||(r=Object(ee.a)(["\n  margin-top: auto;\n  line-height: 30px;\n  text-align: center;\n  padding: 5px 0;\n  order: 99;\n  background: #252a34;\n  color: #eaeaea;\n  height: 40px;\n"]))),ie=ne.b.a.attrs((function(){return{href:"https://github.com/leau-void/photo-tagging-app",target:"_blank"}}))(c||(c=Object(ee.a)(["\n  opacity: 0.7;\n  color: inherit;\n  &:hover {\n    opacity: 1;\n  }\n"]))),ae=function(){return Object(re.jsxs)(ce,{children:["Made with ",Object(re.jsx)("span",{style:{color:"#e25555"},children:"\u2665"})," by Leau"," ",Object(re.jsx)(ie,{children:Object(re.jsx)(te.a,{style:{width:"30px"}})})]})},oe=t(17),se=t(0),de=t.n(se),be=t(23),ue=t(2),le=t(12),je=Q.a.createContext({}),fe=je.Provider,Oe=je,pe=ne.b.div(i||(i=Object(ee.a)(['\n  display: grid;\n  grid:\n    [row1-start] "icon name" auto [row1-end]\n    [row2-start] "icon origin" auto [row2-end]\n    / 100px auto;\n  gap: 1rem;\n  place-items: center;\n\n  &.header {\n    gap: 0.5rem;\n  }\n']))),he=ne.b.h4(a||(a=Object(ee.a)(["\n  grid-area: name;\n  margin: 0;\n  align-self: end;\n  text-align: center;\n"]))),xe=ne.b.div(o||(o=Object(ee.a)(["\n  grid-area: origin;\n  align-self: start;\n  width: 100%;\n  text-align: center;\n  font-style: italic;\n  font-size: 1rem;\n"]))),ge=ne.b.img.attrs((function(e){return{src:e.img,width:80,height:80}}))(s||(s=Object(ee.a)(["\n  min-width: 80px;\n  min-height: 80px;\n  height: 6rem;\n  width: 6rem;\n  object-fit: cover;\n  object-position: 50% -5%;\n  grid-area: icon;\n  border-radius: 10px;\n\n  .header & {\n    width: 4rem;\n    height: 4rem;\n  }\n"]))),me=function(e){var n=e.name,t=e.origin,r=e.img,c=e.header;return Object(re.jsxs)(pe,{className:c?"header":"",children:[Object(re.jsx)(he,{children:n}),Object(re.jsx)(xe,{children:t}),Object(re.jsx)(ge,{img:r})]})},ve=function(e,n){var t=Object(_.useState)(e[n]),r=Object(le.a)(t,2),c=r[0],i=r[1];return[c,function(n){i(n||e.find((function(e){return e!==c})))}]},we=function(e){var n=Object(_.useState)(0),t=Object(le.a)(n,2),r=t[0],c=t[1],i=Object(_.useState)(0),a=Object(le.a)(i,2),o=a[0],s=a[1];return Object(_.useEffect)((function(){if(r){var n=window.setInterval((function(){s(Date.now()-r)}),e);return function(){return clearInterval(n)}}}),[r]),[o,c]},ye=function(e,n){return{height:e.offsetHeight*n,width:e.offsetWidth*n}},ke=function(e){var n=Object(_.useState)(),t=Object(le.a)(n,2),r=t[0],c=t[1],i=Se(),a=Object(_.useCallback)((function(){var n=window.devicePixelRatio;e.current&&i===n&&c(ye(e.current,i))}),[i,e]);return Object(_.useEffect)((function(){}),[e]),Object(_.useEffect)((function(){return window.setTimeout((function(){return c(ye(e.current,i))}),100),window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[e,i,a]),r},Se=function(){var e=Object(_.useState)(window.devicePixelRatio),n=Object(le.a)(e,2),t=n[0],r=n[1],c=function(){r(window.devicePixelRatio)};return Object(_.useEffect)((function(){return window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}}),[]),t},ze=function(e){var n=Object(_.useState)(e),t=Object(le.a)(n,2),r=t[0],c=t[1];return[r,function(e){return c("boolean"==typeof e?e:!r)}]},Ce=function(e){return new Date(e).toJSON().match(/\d{2}:\d{2}.\d{3}/)[0]},Ee=ne.b.header(d||(d=Object(ee.a)(["\n  display: flex;\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  height: 8vh;\n  justify-content: space-around;\n  align-items: center;\n  background: #252a34;\n  z-index: 95;\n"]))),Te=ne.b.div(b||(b=Object(ee.a)(["\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  height: calc(8vh + 3px);\n  background: #252a34;\n  z-index: 85;\n  border-bottom: 3px solid #eaeaea;\n"]))),Fe=ne.b.h1(u||(u=Object(ee.a)([""]))),Ie=ne.b.div(l||(l=Object(ee.a)(["\n  font-size: 1.2rem;\n"]))),Ne=ne.b.div(j||(j=Object(ee.a)(["\n  position: relative;\n"]))),Be=ne.b.button(f||(f=Object(ee.a)(["\n  font-size: 1.2rem;\n  border: 2px solid #08d9d6;\n  color: #08d9d6;\n  font-weight: bold;\n  background: transparent;\n  border-radius: 8px;\n  padding: 0.5rem;\n\n  &:hover {\n    color: #252a34;\n    background: #08d9d6;\n  }\n"]))),Re=ne.b.div(O||(O=Object(ee.a)(["\n  position: absolute;\n  z-index: 150;\n  right: 0;\n  padding: 1.5rem;\n  width: max-content;\n  border-radius: 8px;\n  background: #3f485a;\n  display: flex;\n  flex-direction: column;\n  color: #eaeaea;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n"]))),De=function(e){var n=e.timer,t=e.showTimer,r=Object(_.useContext)(Oe).characters,c=ze(!1),i=Object(le.a)(c,2),a=i[0],o=i[1];return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)(Ee,{children:[Object(re.jsxs)(Fe,{children:[Object(re.jsx)("span",{style:{color:"#08D9D6"},children:"Friend"})," or"," ",Object(re.jsx)("span",{style:{color:"#FF2E63"},children:"Foe"})]}),Object(re.jsx)(Ie,{children:t?Ce(n):""}),Object(re.jsxs)(Ne,{children:[Object(re.jsx)(Be,{onClick:o,children:r.filter((function(e){return!e.found})).length}),a&&Object(re.jsx)(Re,{children:r.map((function(e,n){return Object(re.jsx)(me,Object(be.a)({header:!0},e),n)}))})]})]}),Object(re.jsx)(Te,{})]})},Le=Q.a.createContext([]),Me=Le.Provider,Pe=Le,He=ne.b.div(p||(p=Object(ee.a)(["\n  display: grid;\n  grid-template-columns: 60px 2fr 1fr;\n  text-align: center;\n"]))),Ye=ne.b.div(h||(h=Object(ee.a)(["\n  font-weight: 600;\n  color: #08d9d6;\n"]))),Ae=ne.b.div(x||(x=Object(ee.a)([""]))),Ge=ne.b.div(g||(g=Object(ee.a)(["\n  font-weight: 500;\n"]))),Xe=function(e){var n=e.score,t=e.rank;return Object(re.jsxs)(He,{children:[Object(re.jsx)(Ye,{children:t}),Object(re.jsx)(Ae,{children:n.displayName}),Object(re.jsx)(Ge,{children:Ce(n.end-n.start)})]})},Je=ne.b.div(m||(m=Object(ee.a)(["\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  z-index: 109;\n  background: rgba(43, 43, 43, 0.7);\n"]))),Ue=function(){return Object(re.jsx)(Je,{})},qe=function(e,n){var t="iB";return function e(r,c){if(r.length<=1)return r;var i=c||{},a=i.iA,o=void 0===a?0:a,s=i.iB,d=void 0===s?r.length-1:s,b=r[o],u=r[d];if(d===o){var l=r.slice(0,d),j=r.slice(d+1);return[].concat(Object(oe.a)(e(l)),[u],Object(oe.a)(e(j)))}n(b,u)>0&&(r[o]=u,r[d]=b,t="iB"===t?"iA":"iB");var f,O={iA:o,iB:d};return O[t]=(f=O[t],"iB"===t?f-1:f+1),e(r,O)}(e)},Ke=ne.b.button(v||(v=Object(ee.a)(["\n  margin-top: 2.5rem;\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  border: 3px solid transparent;\n  background: #08d9d6;\n  color: #252a34;\n  align-self: end;\n  font-weight: 500;\n\n  &:hover {\n    background: transparent;\n    border-color: #08d9d6;\n    color: #08d9d6;\n  }\n"]))),Ve=ne.b.div(w||(w=Object(ee.a)(["\n  width: 100vw;\n  min-height: 65vh;\n  max-height: 90vh;\n  position: fixed;\n  z-index: 150;\n  color: #eaeaea;\n  font-size: 1.2rem;\n  background: #252a34;\n  border-radius: 8px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  padding: 2rem 1.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n\n  @media (min-width: 768px) {\n    padding: 2rem 4rem;\n    width: 90vw;\n    font-size: 1.1rem;\n  }\n  @media (min-width: 1080px) {\n    padding: 2rem 6em;\n    width: 60vw;\n  }\n"]))),We=ne.b.div(y||(y=Object(ee.a)(["\n  width: fit-content;\n  display: flex;\n  flex-direction: column;\n  margin: 2rem 0;\n  margin-bottom: auto;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n"]))),_e=ne.b.div(k||(k=Object(ee.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 90%;\n  margin-top: 4rem;\n  margin-bottom: auto;\n  & > * {\n    margin: 0.25rem 0;\n  }\n"]))),Qe=ne.b.div(S||(S=Object(ee.a)(["\n  display: grid;\n  grid-template-columns: 60px 2fr 1fr;\n  text-align: center;\n  border-bottom: 2px solid #08d9d6;\n  padding: 0.5rem 0;\n  font-weight: 600;\n"]))),Ze=ne.b.nav(z||(z=Object(ee.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: ;\n"]))),$e=ne.b.div(C||(C=Object(ee.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  border-top: 2px solid #ff2e63;\n"]))),en=ne.b.button(E||(E=Object(ee.a)(["\n  flex-grow: 1;\n  background: transparent;\n  border: 2px solid #ff2e63;\n  border-top: 0;\n  color: #eaeaea;\n  padding: 0.5rem;\n  font-weight: 500;\n\n  &:hover:not(.active) {\n    color: #ff2e63;\n  }\n  &.active {\n    background: #ff2e63;\n  }\n"]))),nn=Object(ne.b)(en)(T||(T=Object(ee.a)([""]))),tn=ne.b.div(F||(F=Object(ee.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"]))),rn=Object(ne.b)(en)(I||(I=Object(ee.a)([""]))),cn=Object(ne.b)(Ke)(N||(N=Object(ee.a)(["\n  margin: 1.5rem 0;\n"]))),an=function(e,n){return e.end-e.start-(n.end-n.start)},on=function(e){var n=e.isOpen,t=(e.toggleIsOpen,Object(_.useContext)(Oe)),r=t.characters,c=t.scores,i=Object(_.useContext)(Pe),a=i.level,o=i.setLevel,s=i.mode,d=i.toggleMode,b=i.startGameHandler;return Object(re.jsx)(re.Fragment,{children:n&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)(Ve,{children:[Object(re.jsxs)(Ze,{children:[Object(re.jsxs)($e,{children:[Object(re.jsx)(nn,{onClick:function(){return d()},className:"play"===s?"active":"",children:"Play"}),Object(re.jsx)(nn,{onClick:function(){return d()},className:"scores"===s?"active":"",children:"Leaderboard"})]}),Object(re.jsxs)(tn,{children:[Object(re.jsx)(rn,{onClick:function(){return o("easy")},className:"easy"===a?"active":"",children:"Easy"}),Object(re.jsx)(rn,{onClick:function(){return o("medium")},className:"medium"===a?"active":"",children:"Medium"}),Object(re.jsx)(rn,{onClick:function(){return o("hard")},className:"hard"===a?"active":"",children:"Hard"})]})]}),"play"===s&&Object(re.jsx)(We,{children:r.map((function(e,n){return Object(_.createElement)(me,Object(be.a)(Object(be.a)({},e),{},{key:n}))}))}),"scores"===s&&Object(re.jsxs)(_e,{children:[Object(re.jsxs)(Qe,{children:[Object(re.jsx)("div",{children:"Rank"}),Object(re.jsx)("div",{children:"Player name"}),Object(re.jsx)("div",{children:"Score"})]}),qe(c,an).slice(0,10).map((function(e,n){return Object(re.jsx)(Xe,{score:e,rank:n+1},n)}))]}),"play"===s&&Object(re.jsx)(cn,{onClick:b,children:"Start Game"})]}),Object(re.jsx)(Ue,{})]})})},sn=t.p+"static/media/cursor.a1125529.svg",dn=ne.b.div(B||(B=Object(ee.a)(["\n  background: rgba(255, 255, 255, 0.7);\n  position: relative;\n  top: 25px;\n  left: 25px;\n  z-index: 99;\n  cursor: pointer;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n\n  &.x {\n    transform: translateX(-100%);\n    right: 25px;\n    left: unset;\n  }\n\n  &.y {\n    transform: translateY(-100%);\n    bottom: 25px;\n    top: unset;\n  }\n\n  &.x.y {\n    transform: translate(-100%, -100%);\n  }\n"]))),bn=ne.b.div(R||(R=Object(ee.a)(["\n  padding: 0.5rem;\n  color: #171010;\n  font-size: 1rem;\n  border-radius: 4px;\n  word-wrap: nowrap;\n  width: 100%;\n  font-weight: 400;\n\n  &:hover {\n    transform: scale(1.1);\n    background: rgba(255, 255, 255, 0.9);\n  }\n"]))),un=ne.b.div(D||(D=Object(ee.a)(["\n  width: 100px;\n  height: 100px;\n  border: 5px dashed white;\n  border-radius: 50%;\n  position: absolute;\n  background: rgba(255, 255, 255, 0.25);\n  top: -50px;\n  left: -50px;\n  z-index: 98;\n"]))),ln=ne.b.div(L||(L=Object(ee.a)(["\n  position: absolute;\n  z-index: 90;\n  cursor: url(",") 50 50, auto;\n  top: ",";\n  left: ",";\n"])),sn,(function(e){return e.lastClick.y+"px"}),(function(e){return e.lastClick.x+"px"})),jn=function(e){var n=e.lastClick,t=e.offset,r=e.selectionHandler,c=Se(),i=Object(_.useContext)(Oe).characters;return Object(re.jsxs)(ln,{pixelRatio:c,lastClick:n,children:[Object(re.jsx)(un,{}),Object(re.jsx)(dn,{onClick:r,className:t,children:i.filter((function(e){return!e.found})).map((function(e,n){return Object(re.jsx)(bn,{children:e.name},n)}))})]})},fn=ne.b.main(M||(M=Object(ee.a)(["\n  margin-top: 8vh;\n  width: 100%;\n  height: calc(100vh - 8vh - 40px);\n  overflow-x: scroll;\n  position: relative;\n"]))),On=ne.b.img.attrs((function(e){return{src:e.imageSrc,alt:"Game Image",width:e.width-15+"px"}}))(P||(P=Object(ee.a)(["\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: auto;\n  cursor: url(",") 50 50, auto;\n"])),sn),pn=function(e){var n=e.imageSrc,t=e.isTaggingOpen,r=e.toggleIsTaggingOpen,c=e.selectionHandler,i=e.setRelativePos,a=Object(_.useRef)(),o=ke(a),s=Object(_.useState)(),d=Object(le.a)(s,2),b=d[0],u=d[1],l=Object(_.useRef)(),j=ke(l),f=Se(),O=Object(_.useState)({}),p=Object(le.a)(O,2),h=p[0],x=p[1];return Object(re.jsxs)(fn,{ref:a,cursor:sn,onClick:function(e){if(e.currentTarget===a.current&&e.target===l.current&&!t){var n=e.currentTarget.getBoundingClientRect(),r=e.pageX-n.left,c=e.pageY-n.top,i=o.width-r*f-15*f,s=o.height-c*f-15*f,d="",b=f>1.2?.25*(f-1)+1:f;i<175*b&&(d+="x "),s<175*b&&(d+="y "),u(d)}},children:[Object(re.jsx)(On,{imageSrc:n,width:o?o.width:300,onClick:function(e){i({x:e.nativeEvent.offsetX/j.width*f*2e3,y:e.nativeEvent.offsetY/j.height*f*8422}),t||x({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY}),r()},ref:l}),t&&Object(re.jsx)(jn,{lastClick:h,offset:b,selectionHandler:c})]})},hn=function(e){var n=e.children,t=e.doOpen,r=e.animationDuration,c=Object(_.useState)(!1),i=Object(le.a)(c,2),a=i[0],o=i[1],s=Object(_.useState)(),d=Object(le.a)(s,2),b=d[0],u=d[1],l=function(e,n){switch(e){case"open":u("open"),o(!0);break;case"close":window.setTimeout((function(){return u("closing")}),10),window.setTimeout((function(){o(!1)}),n);break;default:return}};Object(_.useEffect)((function(){t?l("open"):(u("closing-setup"),l("close",r))}),[t,r]);var j=Array.isArray(n)?n:[n];return a&&Object(re.jsx)(re.Fragment,{children:j.map((function(e,n){return Q.a.cloneElement(e,{className:b,key:n})}))})},xn=Object(ne.c)(H||(H=Object(ee.a)(["\n0% {\n  top: -100%;\n}\n100% {\n  top: calc(8vh - 3px);\n}\n"]))),gn=Object(ne.a)(Y||(Y=Object(ee.a)(["\n  "," 0.4s ease-out forwards\n"])),xn),mn=ne.b.div(A||(A=Object(ee.a)(["\n  width: 100%;\n  height: 70px;\n  position: fixed;\n  top: calc(8vh - 3px);\n  animation: ",";\n  z-index: 90;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &.closing-setup {\n    animation: none;\n  }\n  &.closing {\n    animation: ",";\n    animation-direction: reverse;\n  }\n"])),gn,gn),vn=ne.b.p(G||(G=Object(ee.a)(["\n  width: 80%;\n  border-radius: 0 0 8px 8px;\n  height: 100%;\n  line-height: 70px;\n  text-align: center;\n  background: #252a34;\n  border: 3px solid #eaeaea;\n  font-weight: 500;\n  border-top: 0;\n"]))),wn=function(e){var n=e.doOpen,t=e.infoText;return Object(re.jsx)(hn,{doOpen:n,animationDuration:400,children:Object(re.jsx)(mn,{children:Object(re.jsx)(vn,{children:t})})})},yn=t(25),kn=t(47),Sn=t(16),zn=(Object(kn.a)({apiKey:"AIzaSyB-8SMbzpGTDUhqjKSM7jL6sp06aVznF6Y",authDomain:"photo-tagging-app-36ac3.firebaseapp.com",projectId:"photo-tagging-app-36ac3",storageBucket:"photo-tagging-app-36ac3.appspot.com",messagingSenderId:"1043049723806",appId:"1:1043049723806:web:6e4f1bbea84120571fc88f"}),Object(Sn.e)()),Cn=ne.b.div(X||(X=Object(ee.a)(["\n  width: 100vw;\n  height: 50vh;\n  position: fixed;\n  z-index: 150;\n  color: #eaeaea;\n  font-size: 1.2rem;\n  background: #252a34;\n  border-radius: 8px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  padding: 2rem 1.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n\n  @media (min-width: 768px) {\n    padding: 2rem 4rem;\n    width: 90vw;\n    font-size: 1.1rem;\n  }\n  @media (min-width: 1080px) {\n    padding: 2rem 6em;\n    width: 60vw;\n  }\n"]))),En=ne.b.h2(J||(J=Object(ee.a)(["\n  margin: 0;\n"]))),Tn=ne.b.div(U||(U=Object(ee.a)(["\n  margin: 1rem 0;\n"]))),Fn=ne.b.form(q||(q=Object(ee.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  width: 90%;\n"]))),In=ne.b.label(K||(K=Object(ee.a)(["\n  text-align: center;\n  line-height: 1.7rem;\n"]))),Nn=ne.b.input(V||(V=Object(ee.a)(["\n  padding: 0.5rem;\n  background: #c3c9d5;\n  color: #252a34;\n  border: 0;\n  border-left: 0.3rem solid transparent;\n  margin-top: 0.5rem;\n  width: 100%;\n\n  &:focus {\n    border-color: #ff2e63;\n  }\n"]))),Bn=ne.b.div(W||(W=Object(ee.a)([""]))),Rn=function(e){var n=e.updateScores,t=Object(_.useState)(),r=Object(le.a)(t,2),c=r[0],i=r[1],a=Object(_.useState)(""),o=Object(le.a)(a,2),s=o[0],d=o[1],b=Object(_.useState)(),u=Object(le.a)(b,2),l=u[0],j=u[1],f=Object(_.useContext)(Pe).level,O=Object(yn.a)().currentUser,p=Object(Sn.c)(zn,"users",O.uid);Object(_.useEffect)((function(){var e=Object(Sn.f)(p,(function(e){var n=e.data();n.start&&n.end&&(j(Ce(n.end.valueOf()-n.start.valueOf())),i(n.displayName))}));return function(){return e()}}),[]);return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)(Cn,{children:[Object(re.jsxs)(En,{children:["Finished level : ",Object(re.jsx)("span",{style:{color:"#FF2E63"},children:f})]}),Object(re.jsxs)(Tn,{children:["Your score: ",Object(re.jsxs)("strong",{children:[l,"ms"]})]}),Object(re.jsxs)(Fn,{onSubmit:function(e){e.preventDefault(),c||Object(Sn.h)(p,{displayName:s}),n()},children:[!c&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(In,{children:"Under what name should your score be listed?"}),Object(re.jsx)(Nn,{required:!0,value:s,onChange:function(e){return d(e.target.value)}})]}),c&&Object(re.jsx)(Bn,{children:c}),Object(re.jsx)(Ke,{children:c?"Save score":"Set name"})]})]}),Object(re.jsx)(Ue,{})]})},Dn=t.p+"static/media/the-loc-nar-level.314cec99.jpg",Ln=function(){window.signOut=function(){return Object(yn.c)(Object(yn.a)())};var e=ze(!0),n=Object(le.a)(e,2),t=n[0],r=n[1],c=ze(!1),i=Object(le.a)(c,2),a=i[0],o=i[1],s=Object(_.useState)(""),d=Object(le.a)(s,2),b=d[0],u=d[1],l=ze(!1),j=Object(le.a)(l,2),f=j[0],O=j[1],p=Object(_.useState)("easy"),h=Object(le.a)(p,2),x=h[0],g=h[1],m=ve(["play","scores"],0),v=Object(le.a)(m,2),w=v[0],y=v[1],k=Object(_.useState)([]),S=Object(le.a)(k,2),z=S[0],C=S[1],E=Object(_.useState)([]),T=Object(le.a)(E,2),F=T[0],I=T[1],N=Object(_.useState)({}),B=Object(le.a)(N,2),R=B[0],D=B[1],L=we(66),M=Object(le.a)(L,2),P=M[0],H=M[1],Y=ze(!1),A=Object(le.a)(Y,2),G=A[0],X=A[1],J=ze(!1),U=Object(le.a)(J,2),q=U[0],K=U[1],V=Object(_.useState)(),W=Object(le.a)(V,2),Q=W[0],Z=W[1],$=Object(_.useState)(),ee=Object(le.a)($,2),ne=ee[0],te=ee[1];Object(_.useEffect)((function(){Object(yn.b)(Object(yn.a)()).then((function(e){Z(e.user)}))}),[]),Object(_.useEffect)((function(){Q&&te(Object(Sn.c)(zn,"users",Q.uid))}),[Q]),Object(_.useEffect)((function(){Q&&ne&&Object(Sn.g)(ne,{uid:Q.uid},{merge:!0})}),[Q,ne]),Object(_.useEffect)((function(){Object(ue.a)(de.a.mark((function e(){var n,t,r;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Sn.c)(zn,"levels",x),e.next=3,Object(Sn.d)(n);case 3:t=e.sent,"play"===w&&(r=t.data().characters.map((function(e){return Object(be.a)(Object(be.a)({},e),{},{found:!1})})),C(r)),"scores"===w&&I(t.data().scores);case 6:case"end":return e.stop()}}),e)})))()}),[x,w]);var ce=function(){var e=Object(ue.a)(de.a.mark((function e(){var n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sn.a.now().toMillis(),K(!1),X(!0),H(!1),Object(Sn.h)(ne,{end:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(ue.a)(de.a.mark((function e(){var n,t,c;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Sn.d)(ne);case 2:return n=e.sent,t=n.data(),c=Object(Sn.c)(zn,"levels",x),e.next=7,Object(Sn.h)(c,{scores:Object(Sn.b)(t)});case 7:y("scores"),X(!1),r(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(e){if(z.filter((function(e){return!e.found})).length<=1)ce();else{var n=z.findIndex((function(n){return n.name===e})),t=[].concat(Object(oe.a)(z.slice(0,n)),[Object(be.a)(Object(be.a)({},z[n]),{},{found:!0})],Object(oe.a)(z.slice(n+1)));C(t)}},se=function(){var e=Object(ue.a)(de.a.mark((function e(n){var t,r,c,i,a,o;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(),t=n.target.textContent,r=Object(Sn.c)(zn,"solutions",t),e.next=5,Object(Sn.d)(r);case 5:c=e.sent,i=R.x-c.data().x,a=R.y-c.data().y,i<100&&i>-100&&a<100&&a>-100?(o="Good job! You have found ".concat(t,"!"),ae(t)):o="This was not ".concat(t,"!"),u(o);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(_.useEffect)((function(){if(b){o(!0);var e=window.setTimeout((function(){o(!1),u("")}),3e3);return function(){return clearTimeout(e)}}}),[b]),Object(re.jsx)(Me,{value:{level:x,setLevel:g,mode:w,toggleMode:y,startGameHandler:function(){r(!1);var e=Sn.a.now().toMillis();K(!0),H(e),Object(Sn.h)(ne,{start:e})}},children:Object(re.jsxs)(fe,{value:{characters:z,scores:F},children:[Object(re.jsx)(De,{timer:P,showTimer:q}),Object(re.jsx)(wn,{doOpen:a,infoText:b}),Object(re.jsx)(on,{isOpen:t,toggleIsOpen:r}),Object(re.jsx)(pn,{selectionHandler:se,imageSrc:Dn,isTaggingOpen:f,toggleIsTaggingOpen:O,setRelativePos:D}),G&&Object(re.jsx)(Rn,{updateScores:ie})]})})};var Mn=function(){return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(Ln,{}),Object(re.jsx)(ae,{})]})};$.a.render(Object(re.jsx)(Q.a.StrictMode,{children:Object(re.jsx)(Mn,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f3fb4b3e.chunk.js.map